{"version":3,"file":"pre-start.js","sourceRoot":"/","sources":["pre-start.ts"],"names":[],"mappings":";;;;;AAOA,gDAAwB;AACxB,oDAA4B;AAC5B,+DAA6C;AAa7C,MAAM,IAAI,GAAG,IAAA,4BAAK,EAAQ;IACxB,GAAG,EAAE;QACH,IAAI,EAAE,MAAM;QACZ,YAAY,EAAE,aAAa;QAC3B,KAAK,EAAE,GAAG;KACX;CACF,CAAC,CAAC;AAEH,IAAI,OAAO,GAAQ,SAAS,CAAA;AAE5B,IAAI,IAAI,CAAC,GAAG,KAAK,YAAY,EAC7B,CAAC;IACG,OAAO,GAAG,gBAAM,CAAC,MAAM,CAAC;QACtB,IAAI,EAAE,KAAK,IAAI,CAAC,GAAG,MAAM;KAC1B,CAAC,CAAC;IACH,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC;QAClB,MAAM,OAAO,CAAC,KAAK,CAAC;IACtB,CAAC;AACL,CAAC;KAED,CAAC;IAEG,OAAO,GAAG,gBAAM,CAAC,MAAM,CAAC;QACtB,IAAI,EAAE,cAAI,CAAC,IAAI,CAAC,SAAS,EAAE,UAAU,IAAI,CAAC,GAAG,MAAM,CAAC;KACrD,CAAC,CAAC;IACH,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC;QAClB,MAAM,OAAO,CAAC,KAAK,CAAC;IACtB,CAAC;AACL,CAAC","sourcesContent":["/**\r\n * Pre-start is where we want to place things that must run BEFORE the express \r\n * server is started. This is useful for environment variables, command-line \r\n * arguments, and cron-jobs.\r\n */\r\n\r\n// NOTE: DO NOT IMPORT ANY SOURCE CODE HERE\r\nimport path from 'path';\r\nimport dotenv from 'dotenv';\r\nimport { parse } from 'ts-command-line-args';\r\n\r\n\r\n// **** Types **** //\r\n\r\ninterface IArgs {\r\n  env: string;\r\n}\r\n\r\n\r\n// **** Setup **** //\r\n\r\n// Command line arguments\r\nconst args = parse<IArgs>({\r\n  env: {\r\n    type: String,\r\n    defaultValue: 'development',\r\n    alias: 'e',\r\n  },\r\n});\r\n\r\nvar result2: any = undefined \r\n\r\nif( args.env === \"production\")\r\n{\r\n    result2 = dotenv.config({\r\n      path: `./${args.env}.env`,\r\n    });\r\n    if (result2.error) {\r\n      throw result2.error;\r\n    }\r\n}\r\nelse \r\n{\r\n      // Set the env file\r\n    result2 = dotenv.config({\r\n      path: path.join(__dirname, `../env/${args.env}.env`),\r\n    });\r\n    if (result2.error) {\r\n      throw result2.error;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n"]}