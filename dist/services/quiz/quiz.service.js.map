{"version":3,"file":"quiz.service.js","sources":["services/quiz/quiz.service.ts"],"sourceRoot":"/","sourcesContent":["import { IGetQuizDTO_Res, IQuizDTO_Req, IUpdateQuiz_Req } from \"@src/DTOs/quiz/quiz.dto\";\r\nimport { QuizRepo } from \"@src/repos/quiz/quiz.repo\";\r\nimport logger from \"@src/system/logger/logger\";\r\nimport { NotFoundError } from \"@src/util/Errors/Endpoints/notFoundError\";\r\nimport { ServerError } from \"@src/util/Errors/Endpoints/serverError\";\r\n\r\n\r\nexport class QuizSservice \r\n{\r\n\r\n    constructor( private quizRepo: QuizRepo )\r\n    {\r\n\r\n    }\r\n\r\n\r\n    async create( quiz: IQuizDTO_Req): Promise<boolean> \r\n    {\r\n        const quizCreated = await this.quizRepo.create( quiz )     \r\n        \r\n        if( !quizCreated )\r\n        {\r\n            return false \r\n        }\r\n\r\n        logger.info(\"Quiz Created\") \r\n        return true \r\n    }\r\n\r\n\r\n    async find( quizID: string ) \r\n    {\r\n        try \r\n        {\r\n            const quiz = await this.quizRepo.find( quizID ) \r\n\r\n            if( !quiz ) \r\n            {\r\n                 throw new NotFoundError(`COULD NOT FIND QUIZ WITH ID ${ quizID }`)\r\n            }\r\n\r\n            return quiz \r\n        }\r\n        catch(e: any )\r\n        {\r\n            logger.error(e,`DATABASE ERROR: ERROR WHILE FINDING QUIZ WITH ID: ${   quizID }`)\r\n            throw new ServerError(\"SERVER ENCOUNTED ERROR WHILE FINDING QUIZ\")\r\n        }\r\n    }\r\n\r\n    async update( quizID: string, updateBody: IUpdateQuiz_Req )\r\n    {\r\n        try \r\n        {\r\n            const updatedQuiz = await this.quizRepo.update( quizID, updateBody )\r\n\r\n            logger.info(\"Updated Quiz Result\")\r\n            logger.info( updatedQuiz ) \r\n\r\n            if(  updatedQuiz !== 1 )\r\n            {\r\n                logger.error(\"COULD NOT FIND QUIZ TO UPDATE\")\r\n                throw new NotFoundError(`QUIZ_UPDATE_ERROR: Did Not Find Quiz With ID: ${ quizID } for Update `)\r\n            }\r\n        }\r\n        catch(e: any )\r\n        {\r\n            throw new ServerError(`SERVER_ERROR: ERROR OCCURED WHILE UPDATING QUIZ WITH ID: ${ quizID }`)\r\n        }\r\n    }\r\n\r\n\r\n    async delete( quizID: string )\r\n    {\r\n        try \r\n        {\r\n            const deletedCount = await this.quizRepo.delete( quizID ) \r\n            return deletedCount \r\n\r\n        }\r\n        catch(e: any )\r\n        {\r\n            throw new ServerError(`SERVER_ERROR: ERROR OCCURED WHILE DELETING QUIZ WITH ID ${ quizID }`)\r\n        }\r\n    }\r\n    \r\n}"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA,uEAA+C;AAC/C,4EAAyE;AACzE,wEAAqE;AAGrE,MAAa,YAAY;IAGrB,YAAqB,QAAkB;QAAlB,aAAQ,GAAR,QAAQ,CAAU;IAGvC,CAAC;IAGK,MAAM,CAAE,IAAkB;;YAE5B,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAE,IAAI,CAAE,CAAA;YAEtD,IAAI,CAAC,WAAW,EAChB,CAAC;gBACG,OAAO,KAAK,CAAA;YAChB,CAAC;YAED,gBAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAA;YAC3B,OAAO,IAAI,CAAA;QACf,CAAC;KAAA;IAGK,IAAI,CAAE,MAAc;;YAEtB,IACA,CAAC;gBACG,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAE,MAAM,CAAE,CAAA;gBAE/C,IAAI,CAAC,IAAI,EACT,CAAC;oBACI,MAAM,IAAI,6BAAa,CAAC,+BAAgC,MAAO,EAAE,CAAC,CAAA;gBACvE,CAAC;gBAED,OAAO,IAAI,CAAA;YACf,CAAC;YACD,OAAM,CAAM,EACZ,CAAC;gBACG,gBAAM,CAAC,KAAK,CAAC,CAAC,EAAC,qDAAwD,MAAO,EAAE,CAAC,CAAA;gBACjF,MAAM,IAAI,yBAAW,CAAC,2CAA2C,CAAC,CAAA;YACtE,CAAC;QACL,CAAC;KAAA;IAEK,MAAM,CAAE,MAAc,EAAE,UAA2B;;YAErD,IACA,CAAC;gBACG,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAE,MAAM,EAAE,UAAU,CAAE,CAAA;gBAEpE,gBAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAA;gBAClC,gBAAM,CAAC,IAAI,CAAE,WAAW,CAAE,CAAA;gBAE1B,IAAK,WAAW,KAAK,CAAC,EACtB,CAAC;oBACG,gBAAM,CAAC,KAAK,CAAC,+BAA+B,CAAC,CAAA;oBAC7C,MAAM,IAAI,6BAAa,CAAC,iDAAkD,MAAO,cAAc,CAAC,CAAA;gBACpG,CAAC;YACL,CAAC;YACD,OAAM,CAAM,EACZ,CAAC;gBACG,MAAM,IAAI,yBAAW,CAAC,4DAA6D,MAAO,EAAE,CAAC,CAAA;YACjG,CAAC;QACL,CAAC;KAAA;IAGK,MAAM,CAAE,MAAc;;YAExB,IACA,CAAC;gBACG,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAE,MAAM,CAAE,CAAA;gBACzD,OAAO,YAAY,CAAA;YAEvB,CAAC;YACD,OAAM,CAAM,EACZ,CAAC;gBACG,MAAM,IAAI,yBAAW,CAAC,2DAA4D,MAAO,EAAE,CAAC,CAAA;YAChG,CAAC;QACL,CAAC;KAAA;CAEJ;AA/ED,oCA+EC","debug_id":"360d7ef0-2f4d-5ec4-9cc7-41b3368af03c"}