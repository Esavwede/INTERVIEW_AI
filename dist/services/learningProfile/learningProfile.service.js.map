{"version":3,"file":"learningProfile.service.js","sources":["services/learningProfile/learningProfile.service.ts"],"sourceRoot":"/","sourcesContent":["\r\nimport { ILearningProfile } from \"@src/models/learningProfile\";\r\nimport { LearningProfileRepo } from \"@src/repos/learnningProfile/learningProfile.repo\";\r\nimport logger from \"@src/system/logger/logger\";\r\nimport { ServerError } from \"@src/util/Errors/Endpoints/serverError\";\r\nimport { Types } from \"mongoose\";\r\n\r\n\r\nexport class LearningProfileService \r\n{\r\n\r\n    constructor( private learningProfileRepo: LearningProfileRepo )\r\n    {\r\n\r\n    }\r\n\r\n\r\n    async create( learningProfileDoc: Pick< ILearningProfile, 'userId' | 'learningModules' > ): Promise< void > \r\n    {\r\n        try \r\n        {\r\n            logger.info(\"SERVICE: Creating Learning Profile \") \r\n            await this.learningProfileRepo.create( learningProfileDoc )\r\n            \r\n            logger.info(\"Learning Profile Created\") \r\n        }\r\n        catch(e: any)\r\n        {\r\n            logger.error(e,`SERVICE: Error Occured While Creating Learrning Profile`)\r\n            throw new ServerError(`SERVICE: Error Occured While Creating Learrning Profile`)\r\n        }\r\n    }\r\n\r\n    \r\n    \r\n    async findOne( userId: string | Types.ObjectId ): Promise< boolean > \r\n    {\r\n        try \r\n        {\r\n    \r\n            logger.info(\"SERVICE: Finding Learning Profile \") \r\n            const learningProfile = await this.learningProfileRepo.findOne( userId )\r\n            \r\n            if( learningProfile )\r\n            {\r\n                logger.info(\"Learning Profile Already Exists for user with id %s \", userId)\r\n                logger.info( learningProfile )  \r\n                return true \r\n            }\r\n\r\n                return false \r\n        }\r\n        catch(e: any)\r\n        {\r\n            logger.error(e,`SERVICE: Error Occured While Creating Learrning Profile`)\r\n            throw new ServerError(`SERVICE: Error Occured While Creating Learrning Profile`)\r\n        }\r\n    }\r\n    \r\n} "],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAGA,uEAA+C;AAC/C,wEAAqE;AAIrE,MAAa,sBAAsB;IAG/B,YAAqB,mBAAwC;QAAxC,wBAAmB,GAAnB,mBAAmB,CAAqB;IAG7D,CAAC;IAGK,MAAM,CAAE,kBAA0E;;YAEpF,IACA,CAAC;gBACG,gBAAM,CAAC,IAAI,CAAC,qCAAqC,CAAC,CAAA;gBAClD,MAAM,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAE,kBAAkB,CAAE,CAAA;gBAE3D,gBAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAA;YAC3C,CAAC;YACD,OAAM,CAAM,EACZ,CAAC;gBACG,gBAAM,CAAC,KAAK,CAAC,CAAC,EAAC,yDAAyD,CAAC,CAAA;gBACzE,MAAM,IAAI,yBAAW,CAAC,yDAAyD,CAAC,CAAA;YACpF,CAAC;QACL,CAAC;KAAA;IAIK,OAAO,CAAE,MAA+B;;YAE1C,IACA,CAAC;gBAEG,gBAAM,CAAC,IAAI,CAAC,oCAAoC,CAAC,CAAA;gBACjD,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAE,MAAM,CAAE,CAAA;gBAExE,IAAI,eAAe,EACnB,CAAC;oBACG,gBAAM,CAAC,IAAI,CAAC,sDAAsD,EAAE,MAAM,CAAC,CAAA;oBAC3E,gBAAM,CAAC,IAAI,CAAE,eAAe,CAAE,CAAA;oBAC9B,OAAO,IAAI,CAAA;gBACf,CAAC;gBAEG,OAAO,KAAK,CAAA;YACpB,CAAC;YACD,OAAM,CAAM,EACZ,CAAC;gBACG,gBAAM,CAAC,KAAK,CAAC,CAAC,EAAC,yDAAyD,CAAC,CAAA;gBACzE,MAAM,IAAI,yBAAW,CAAC,yDAAyD,CAAC,CAAA;YACpF,CAAC;QACL,CAAC;KAAA;CAEJ;AAnDD,wDAmDC","debug_id":"33977435-3dcd-5059-88fc-9001e76cdab0"}