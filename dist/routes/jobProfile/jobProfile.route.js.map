{"version":3,"file":"jobProfile.route.js","sources":["routes/jobProfile/jobProfile.route.ts"],"sourceRoot":"/","sourcesContent":["\r\nimport { Express } from \"express-serve-static-core\" \r\nimport { Router } from \"express\"\r\nimport { JobProfileController } from \"@src/controller/jobProfile/jobProfile.controller\"\r\nimport { validateRequestToken } from \"@src/util/Auth/tokens\"\r\nimport { validateRequestSchema } from \"@src/middleware/validate/request/validateRequestSchema\"\r\nimport { CreateJobProfileValidationSchema, DeleteJobProfileValidationSchema } from \"@src/schemas/jobProfile/jobProfile.schema\"\r\nimport { addUserContext } from \"@src/middleware/context/logContext\"\r\nimport { uploadToServer } from \"@src/util/upload/doc/uploadDocToServer\"\r\nimport { ensureRequestDefined } from \"@src/middleware/checkRequestDefined/checkRequestDefined\"\r\n\r\n\r\n\r\nconst router = Router() \r\n\r\nexport function jobProfileRoutes( app: Express )\r\n{\r\n    try \r\n    {\r\n        const jobProfileController = new JobProfileController() \r\n\r\n        router.post\r\n                  ( \r\n                    '/',                                // Endpoint \r\n                    validateRequestToken,               // Request Token Validation \r\n                    uploadToServer.single('resume'),   // Uploads Resume To Server \r\n                    validateRequestSchema( CreateJobProfileValidationSchema ), // Request Schema Validation \r\n                    addUserContext,                    // Adds User Context To Logs \r\n                    jobProfileController.create.bind( jobProfileController ) // Controller \r\n                  ) \r\n\r\n        router.get\r\n                  ( \r\n                    '/',                                // Endpoint \r\n                    validateRequestToken,               // Request Token Validation \r\n                    addUserContext,                    // Adds User Context To Logs \r\n                    ensureRequestDefined,\r\n                    jobProfileController.getUserJobProfiles.bind( jobProfileController ) // Controller \r\n                  ) \r\n\r\n        router.delete\r\n                  ( \r\n                    '/:id',                                // Endpoint \r\n                    validateRequestToken,               // Request Token Validation \r\n                    validateRequestSchema( DeleteJobProfileValidationSchema ),\r\n                    addUserContext,                    // Adds User Context To Logs \r\n                    jobProfileController.deleteJobProfileFromJobProfiles.bind( jobProfileController ) // Controller \r\n                  ) \r\n\r\n\r\n        app.use('/api/v1/job-profiles', router )\r\n\r\n    }\r\n    catch(e: any )\r\n    {\r\n\r\n    }\r\n}"],"names":[],"mappings":";;;;AAeA,4CA0CC;AAvDD,qCAAgC;AAChC,4FAAuF;AACvF,kDAA4D;AAC5D,kGAA8F;AAC9F,iFAA8H;AAC9H,mEAAmE;AACnE,8EAAuE;AACvE,iGAA8F;AAI9F,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAA;AAEvB,SAAgB,gBAAgB,CAAE,GAAY;IAE1C,IACA,CAAC;QACG,MAAM,oBAAoB,GAAG,IAAI,4CAAoB,EAAE,CAAA;QAEvD,MAAM,CAAC,IAAI,CAEC,GAAG,EACH,6BAAoB,EACpB,kCAAc,CAAC,MAAM,CAAC,QAAQ,CAAC,EAC/B,IAAA,6CAAqB,EAAE,oDAAgC,CAAE,EACzD,2BAAc,EACd,oBAAoB,CAAC,MAAM,CAAC,IAAI,CAAE,oBAAoB,CAAE,CACzD,CAAA;QAEX,MAAM,CAAC,GAAG,CAEE,GAAG,EACH,6BAAoB,EACpB,2BAAc,EACd,0CAAoB,EACpB,oBAAoB,CAAC,kBAAkB,CAAC,IAAI,CAAE,oBAAoB,CAAE,CACrE,CAAA;QAEX,MAAM,CAAC,MAAM,CAED,MAAM,EACN,6BAAoB,EACpB,IAAA,6CAAqB,EAAE,oDAAgC,CAAE,EACzD,2BAAc,EACd,oBAAoB,CAAC,+BAA+B,CAAC,IAAI,CAAE,oBAAoB,CAAE,CAClF,CAAA;QAGX,GAAG,CAAC,GAAG,CAAC,sBAAsB,EAAE,MAAM,CAAE,CAAA;IAE5C,CAAC;IACD,OAAM,CAAM,EACZ,CAAC;IAED,CAAC;AACL,CAAC","debug_id":"16e9ec10-5359-5c4c-b258-93db92510100"}