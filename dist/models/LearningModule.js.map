{"version":3,"file":"LearningModule.js","sources":["models/LearningModule.ts"],"sourceRoot":"/","sourcesContent":["\r\n\r\nimport mongoose, { Document, ObjectId, Schema, Types } from \"mongoose\"\r\n\r\nexport interface IPartContent \r\n{\r\n    _id: ObjectId,\r\n    type: string, \r\n    value: string \r\n}\r\n\r\n\r\nexport const PartContentSchema = new Schema<IPartContent>\r\n                (\r\n                    {\r\n                        type: \r\n                        {\r\n                            type: String, \r\n                            required: true \r\n                        },\r\n                        value:\r\n                        {\r\n                            type: String, \r\n                            required: true \r\n                        }\r\n                    }\r\n                )\r\n\r\n\r\nexport interface ILearningModulePart extends Document \r\n{\r\n    title: string, \r\n    learningModuleId?: ObjectId, \r\n    quizId?: ObjectId,\r\n    content: IPartContent[],\r\n    isLast: boolean \r\n}\r\n\r\n\r\nconst LearningModulePartSchema = new Schema<ILearningModulePart> \r\n        (\r\n            {\r\n                title: \r\n                {\r\n                    type: String, \r\n                    required: true \r\n                },\r\n                learningModuleId: \r\n                {\r\n                    type: mongoose.Types.ObjectId\r\n                },\r\n                quizId: \r\n                {\r\n                    type: String,\r\n                    default: '' \r\n                },\r\n                content: \r\n                {\r\n                    type: [ PartContentSchema ], \r\n                    required: true \r\n                },\r\n                isLast:\r\n                {\r\n                    type: Boolean, \r\n                    require: true, \r\n                    default: false \r\n                }\r\n            }\r\n        )\r\n\r\n\r\nexport interface IPartMetaData \r\n{\r\n    _id:  Types.ObjectId | string,\r\n    title: string, \r\n    hasBeenCompleted: boolean \r\n}\r\n\r\n\r\nexport const PartMetaDataSchema  = new Schema\r\n    (\r\n        {\r\n            title: \r\n            {\r\n                type: String, \r\n                required: true \r\n            },\r\n            hasBeenCompleted: \r\n            {\r\n                type: Boolean, \r\n                required: true,\r\n                default: false \r\n            }\r\n        }\r\n    )\r\n\r\nexport interface ILearningModule extends Document \r\n{\r\n    title: string, \r\n    area: ObjectId, \r\n    stage: ObjectId,\r\n    stageName: string,\r\n    stageNumber: number, \r\n    description: string, \r\n    imgSrc: string,\r\n    totalParts: number, \r\n    partsMetaData: IPartMetaData[], \r\n    parts?: ILearningModulePart[], \r\n    isDraft: boolean \r\n}\r\n\r\n\r\nconst LearningModuleSchema = new Schema<ILearningModule>\r\n        ( \r\n            {\r\n                title:\r\n                {\r\n                    type: String, \r\n                    required: true, \r\n                    unique: true \r\n                },\r\n                area:\r\n                {\r\n                    type: mongoose.Types.ObjectId, \r\n                    required: true \r\n                },\r\n                stage: \r\n                {\r\n                    type: mongoose.Types.ObjectId, \r\n                    required: true \r\n                },\r\n                stageName:\r\n                {\r\n                    type: String, \r\n                    required: true \r\n                },\r\n                stageNumber:\r\n                {\r\n                    type: Number,\r\n                    required: true \r\n                },\r\n                description: \r\n                {\r\n                    type: String, \r\n                    required: true    \r\n                },\r\n                imgSrc: \r\n                {\r\n                    type: String, \r\n                    required: true\r\n                },\r\n                totalParts:\r\n                {\r\n                    type: Number, \r\n                    required: true, \r\n                    default: 0\r\n                },\r\n                partsMetaData: \r\n                {\r\n                    type: [PartMetaDataSchema]\r\n                },\r\n                parts:\r\n                {\r\n                    type: [LearningModulePartSchema]\r\n                },\r\n                isDraft:\r\n                {\r\n                    type: Boolean, \r\n                    required: true, \r\n                }\r\n            },\r\n            {\r\n                timestamps: true \r\n            }\r\n        )\r\n\r\n\r\n\r\nexport const LearningModule = mongoose.model('learningModule', LearningModuleSchema ) "],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,qDAAsE;AAUzD,QAAA,iBAAiB,GAAG,IAAI,iBAAM,CAEvB;IACI,IAAI,EACJ;QACI,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACjB;IACD,KAAK,EACL;QACI,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACjB;CACJ,CACJ,CAAA;AAajB,MAAM,wBAAwB,GAAG,IAAI,iBAAM,CAE/B;IACI,KAAK,EACL;QACI,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACjB;IACD,gBAAgB,EAChB;QACI,IAAI,EAAE,kBAAQ,CAAC,KAAK,CAAC,QAAQ;KAChC;IACD,MAAM,EACN;QACI,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,EAAE;KACd;IACD,OAAO,EACP;QACI,IAAI,EAAE,CAAE,yBAAiB,CAAE;QAC3B,QAAQ,EAAE,IAAI;KACjB;IACD,MAAM,EACN;QACI,IAAI,EAAE,OAAO;QACb,OAAO,EAAE,IAAI;QACb,OAAO,EAAE,KAAK;KACjB;CACJ,CACJ,CAAA;AAWI,QAAA,kBAAkB,GAAI,IAAI,iBAAM,CAErC;IACI,KAAK,EACL;QACI,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACjB;IACD,gBAAgB,EAChB;QACI,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,IAAI;QACd,OAAO,EAAE,KAAK;KACjB;CACJ,CACJ,CAAA;AAkBL,MAAM,oBAAoB,GAAG,IAAI,iBAAM,CAE3B;IACI,KAAK,EACL;QACI,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;QACd,MAAM,EAAE,IAAI;KACf;IACD,IAAI,EACJ;QACI,IAAI,EAAE,kBAAQ,CAAC,KAAK,CAAC,QAAQ;QAC7B,QAAQ,EAAE,IAAI;KACjB;IACD,KAAK,EACL;QACI,IAAI,EAAE,kBAAQ,CAAC,KAAK,CAAC,QAAQ;QAC7B,QAAQ,EAAE,IAAI;KACjB;IACD,SAAS,EACT;QACI,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACjB;IACD,WAAW,EACX;QACI,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACjB;IACD,WAAW,EACX;QACI,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACjB;IACD,MAAM,EACN;QACI,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACjB;IACD,UAAU,EACV;QACI,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;QACd,OAAO,EAAE,CAAC;KACb;IACD,aAAa,EACb;QACI,IAAI,EAAE,CAAC,0BAAkB,CAAC;KAC7B;IACD,KAAK,EACL;QACI,IAAI,EAAE,CAAC,wBAAwB,CAAC;KACnC;IACD,OAAO,EACP;QACI,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,IAAI;KACjB;CACJ,EACD;IACI,UAAU,EAAE,IAAI;CACnB,CACJ,CAAA;AAII,QAAA,cAAc,GAAG,kBAAQ,CAAC,KAAK,CAAC,gBAAgB,EAAE,oBAAoB,CAAE,CAAA","debug_id":"b3abcc9a-0c8c-5843-b8b5-5bb145f6b663"}