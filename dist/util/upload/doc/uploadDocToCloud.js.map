{"version":3,"file":"uploadDocToCloud.js","sources":["util/upload/doc/uploadDocToCloud.ts"],"sourceRoot":"/","sourcesContent":["\r\nimport { config } from \"dotenv\"\r\nconfig() \r\nimport logger from \"@src/system/logger/logger\";\r\nimport { v2 } from \"cloudinary\"\r\nimport { Logger } from \"pino\";\r\nimport { ServerError } from \"@src/util/Errors/Endpoints/serverError\";\r\n\r\n\r\n\r\nconst cloudinary = v2 \r\n\r\n// Configure Cloudinary with your account details\r\ncloudinary.config({\r\n    cloud_name: process.env.CLOUDINARY_CLOUD_NAME,\r\n    api_key: process.env.CLOUDINARY_API_KEY,\r\n    api_secret: process.env.CLOUDINARY_API_SECRET,\r\n  });\r\n\r\n\r\nexport async function uploadFile( filePath: string, childLogger: Logger)\r\n{\r\n  try \r\n  {\r\n      const { secure_url, public_id, url } = await cloudinary.uploader.upload( filePath ,{ resource_type: 'raw'})\r\n      childLogger.debug(`Resume Uploaded Successfully`)\r\n      console.log('---Debug----') \r\n      console.log( secure_url ) \r\n      return { public_id, url }\r\n  }\r\n  catch(e: any)\r\n  {\r\n    childLogger.error(e,\"Could Not Upload File\")\r\n    throw new ServerError('Server Error') \r\n  }\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;;;;AAoBA,gCAeC;AAlCD,mCAA+B;AAC/B,IAAA,eAAM,GAAE,CAAA;AAER,2CAA+B;AAE/B,wEAAqE;AAIrE,MAAM,UAAU,GAAG,eAAE,CAAA;AAGrB,UAAU,CAAC,MAAM,CAAC;IACd,UAAU,EAAE,OAAO,CAAC,GAAG,CAAC,qBAAqB;IAC7C,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,kBAAkB;IACvC,UAAU,EAAE,OAAO,CAAC,GAAG,CAAC,qBAAqB;CAC9C,CAAC,CAAC;AAGL,SAAsB,UAAU,CAAE,QAAgB,EAAE,WAAmB;;QAErE,IACA,CAAC;YACG,MAAM,EAAE,UAAU,EAAE,SAAS,EAAE,GAAG,EAAE,GAAG,MAAM,UAAU,CAAC,QAAQ,CAAC,MAAM,CAAE,QAAQ,EAAE,EAAE,aAAa,EAAE,KAAK,EAAC,CAAC,CAAA;YAC3G,WAAW,CAAC,KAAK,CAAC,8BAA8B,CAAC,CAAA;YACjD,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAA;YAC3B,OAAO,CAAC,GAAG,CAAE,UAAU,CAAE,CAAA;YACzB,OAAO,EAAE,SAAS,EAAE,GAAG,EAAE,CAAA;QAC7B,CAAC;QACD,OAAM,CAAM,EACZ,CAAC;YACC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAC,uBAAuB,CAAC,CAAA;YAC5C,MAAM,IAAI,yBAAW,CAAC,cAAc,CAAC,CAAA;QACvC,CAAC;IACH,CAAC;CAAA","debug_id":"c9197fb0-b9dd-5fce-a1b7-7e28664688fa"}