{"version":3,"file":"organizeLearningModules.js","sourceRoot":"/","sources":["util/learningModule/organizeLearningModules.ts"],"names":[],"mappings":";;;;;AASA,8DA8BC;AApCD,iEAA8D;AAC9D,uEAA+C;AAK/C,SAAgB,yBAAyB,CAAE,KAAsB;IAE7D,IACA,CAAC;QAGG,MAAM,KAAK,GAAG,CAAC,KAAsB,EAAE,EAAE;YACrC,OAAO,KAAK,CAAC,MAAM,CAA6C,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE;gBAC1E,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;oBAE3C,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC;wBACrB,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;oBAC3B,CAAC;oBAED,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;oBAExB,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACnC,CAAC,CAAC,CAAC;gBACH,OAAO,GAAG,CAAC;YACf,CAAC,EAAE,EAAE,CAAC,CAAC;QACX,CAAC,CAAA;QAED,OAAO,KAAK,CAAE,KAAK,CAAE,CAAA;IAEzB,CAAC;IACD,OAAM,CAAC,EACP,CAAC;QACG,gBAAM,CAAC,KAAK,CAAC,CAAC,EAAC,yEAAyE,CAAC,CAAA;QACzF,MAAM,IAAI,yBAAW,CAAC,iDAAiD,CAAC,CAAA;IAC5E,CAAC;AACL,CAAC","sourcesContent":["\r\n\r\nimport { ILearningModuleUnderArea, ILearningArea } from \"@src/models/area\";\r\nimport { ServerError } from \"../Errors/Endpoints/serverError\";\r\nimport logger from \"@src/system/logger/logger\";\r\n\r\n\r\n\r\n\r\nexport function groupLearningAreasByStage( areas: ILearningArea[] )\r\n{\r\n    try \r\n    {\r\n        \r\n        // Group by stage\r\n        const group = (areas: ILearningArea[]) => {\r\n            return areas.reduce<Record<string, ILearningModuleUnderArea[]>>((acc, area) => {\r\n                area.learningModulesUnderArea.forEach(module => {\r\n                    // Initialize stage if it doesn't exist\r\n                    if (!acc[module.stage]) {\r\n                        acc[module.stage] = [];\r\n                    }\r\n                    // Add area to the module\r\n                    module.area = area.area;\r\n                    // Push the module to the corresponding stage\r\n                    acc[module.stage].push(module);\r\n                });\r\n                return acc;\r\n            }, {});\r\n        }\r\n\r\n        return group( areas ) \r\n\r\n    }\r\n    catch(e)\r\n    {\r\n        logger.error(e,\"Error Occured while Fetching Onboarding Details: learningAreasByStages \")\r\n        throw new ServerError(\"Error Occured While Fetching Onboarding Details\")\r\n    }\r\n}\r\n\r\n\r\n"]}