{"version":3,"file":"learningModulePart.controller.js","sources":["controller/learningModulePart/learningModulePart.controller.ts"],"sourceRoot":"/","sourcesContent":["\r\nimport { LearningModulePartService } from \"@src/services/learningModulePart/learningModulePart.service\";\r\nimport { LearningModulePartRepo } from \"@src/repos/learningModulePart/learningModulePart.repo\";\r\nimport { Request, Response} from \"express\"\r\nimport { LearningModulePartSchema_Create, LearningModulePartSchema_Get, LearningModulePartSchema_Update } from \"@src/schemas/learningModulePart/learningModulePart.schema\";\r\nimport { NotFoundError } from \"@src/util/Errors/Endpoints/notFoundError\"\r\n\r\nexport class LearningModulePartController \r\n{\r\n    private learningModulePartService: LearningModulePartService \r\n\r\n    constructor() \r\n    {\r\n        const learningModulePartRepo = new LearningModulePartRepo() \r\n        this.learningModulePartService = new LearningModulePartService( learningModulePartRepo )\r\n    }\r\n\r\n    async create( req: Request< {},{},LearningModulePartSchema_Create[\"body\"]>, res: Response)\r\n    {\r\n        try \r\n        {\r\n            await this.learningModulePartService.create( req.body.learningModuleId , req.body ) \r\n            return res.status(201).json({ success: true, msg:\"Learning Module Part Created\"})\r\n        }\r\n        catch(e: any )\r\n        {\r\n            return res.status(500).json({ success: false, msg: e.message })\r\n        }\r\n    }\r\n    \r\n    async getPart( req: Request< LearningModulePartSchema_Get['params']>, res: Response)\r\n    {\r\n        try \r\n        {\r\n            const part = await this.learningModulePartService.find( req.params.moduleId ,req.params.partNumber ) \r\n            return res.status(200).json({ success: true, data: { part }})\r\n        }\r\n        catch(e: any )\r\n        {\r\n            \r\n            if( e instanceof NotFoundError )\r\n            {\r\n                return res.status( e.statusCode ).json({ success: false, msg: e.message })\r\n            }\r\n                return res.status( e.statusCode ).json({ success: false, message: e.message })\r\n        }\r\n    }\r\n\r\n    async update( req: Request<{},{}, LearningModulePartSchema_Update[\"body\"]>, res: Response )\r\n    {\r\n        try \r\n        {\r\n            const { learningModuleId, content } = req.body\r\n\r\n            await this.learningModulePartService.update( learningModuleId, content)\r\n            return res.status(200).json({ success: true, msg:\"Learning Module Part Updated\"})\r\n        }\r\n        catch(e: any )\r\n        {\r\n            return res.status(500).json({ success: false, msg:\"Failed to Update learning module Part \"})\r\n        }\r\n    }\r\n\r\n\r\n}"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,4GAAwG;AACxG,mGAA+F;AAG/F,4EAAwE;AAExE,MAAa,4BAA4B;IAIrC;QAEI,MAAM,sBAAsB,GAAG,IAAI,gDAAsB,EAAE,CAAA;QAC3D,IAAI,CAAC,yBAAyB,GAAG,IAAI,sDAAyB,CAAE,sBAAsB,CAAE,CAAA;IAC5F,CAAC;IAEK,MAAM,CAAE,GAA4D,EAAE,GAAa;;YAErF,IACA,CAAC;gBACG,MAAM,IAAI,CAAC,yBAAyB,CAAC,MAAM,CAAE,GAAG,CAAC,IAAI,CAAC,gBAAgB,EAAG,GAAG,CAAC,IAAI,CAAE,CAAA;gBACnF,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAC,8BAA8B,EAAC,CAAC,CAAA;YACrF,CAAC;YACD,OAAM,CAAM,EACZ,CAAC;gBACG,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,CAAA;YACnE,CAAC;QACL,CAAC;KAAA;IAEK,OAAO,CAAE,GAAqD,EAAE,GAAa;;YAE/E,IACA,CAAC;gBACG,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAE,GAAG,CAAC,MAAM,CAAC,QAAQ,EAAE,GAAG,CAAC,MAAM,CAAC,UAAU,CAAE,CAAA;gBACpG,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAC,CAAC,CAAA;YACjE,CAAC;YACD,OAAM,CAAM,EACZ,CAAC;gBAEG,IAAI,CAAC,YAAY,6BAAa,EAC9B,CAAC;oBACG,OAAO,GAAG,CAAC,MAAM,CAAE,CAAC,CAAC,UAAU,CAAE,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,CAAA;gBAC9E,CAAC;gBACG,OAAO,GAAG,CAAC,MAAM,CAAE,CAAC,CAAC,UAAU,CAAE,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,CAAA;YACtF,CAAC;QACL,CAAC;KAAA;IAEK,MAAM,CAAE,GAA4D,EAAE,GAAa;;YAErF,IACA,CAAC;gBACG,MAAM,EAAE,gBAAgB,EAAE,OAAO,EAAE,GAAG,GAAG,CAAC,IAAI,CAAA;gBAE9C,MAAM,IAAI,CAAC,yBAAyB,CAAC,MAAM,CAAE,gBAAgB,EAAE,OAAO,CAAC,CAAA;gBACvE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAC,8BAA8B,EAAC,CAAC,CAAA;YACrF,CAAC;YACD,OAAM,CAAM,EACZ,CAAC;gBACG,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,EAAC,wCAAwC,EAAC,CAAC,CAAA;YAChG,CAAC;QACL,CAAC;KAAA;CAGJ;AAzDD,oEAyDC","debug_id":"c18a415d-2cbf-5911-8b0f-5758ef834254"}